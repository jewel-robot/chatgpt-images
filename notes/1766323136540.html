<div class="message-block role-user"><div class="message-role">Jewel</div><div class="message-content">Cloudflare Turnstile的免费图形验证码怎么配置</div></div>
<div class="message-block role-ai"><div class="message-role">AI</div><div class="message-content"><p data-start="0" data-end="188">下面按“<strong data-start="4" data-end="31">创建 Widget → 前端嵌入 → 后端校验</strong>”给你一套最常用的 Cloudflare Turnstile（免费）配置流程。先说明一下：<strong data-start="76" data-end="108">Turnstile 不是传统“选图/输字符”的图形验证码</strong>；Managed 模式最多让用户“勾选一下”，而且<strong data-start="133" data-end="149">不会出现图片或文字识别题</strong>。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/concepts/widget/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/concepts/widget/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<hr data-start="190" data-end="193">
<h2 data-start="195" data-end="261">1) 在 Cloudflare 后台创建 Turnstile Widget（拿到 Site Key / Secret Key）</h2>
<ol data-start="263" data-end="844">
<li data-start="263" data-end="327">
<p data-start="266" data-end="327">登录 Cloudflare Dashboard → 左侧找到 <strong data-start="297" data-end="310">Turnstile</strong> → <strong data-start="313" data-end="327">Add widget</strong></p>
</li>
<li data-start="328" data-end="730">
<p data-start="331" data-end="333">填：</p>
<ul data-start="337" data-end="730">
<li data-start="337" data-end="372">
<p data-start="339" data-end="372"><strong data-start="339" data-end="354">Widget name</strong>：随便起（如 <code data-start="361" data-end="371">my-login</code>）</p>
</li>
<li data-start="376" data-end="456">
<p data-start="378" data-end="456"><strong data-start="378" data-end="391">Hostnames</strong>：把你要用的域名加进去（如 <code data-start="405" data-end="418">example.com</code>、<code data-start="419" data-end="436">www.example.com</code>，本地开发可加 <code data-start="444" data-end="455">localhost</code>）</p>
</li>
<li data-start="460" data-end="730">
<p data-start="462" data-end="476"><strong data-start="462" data-end="470">Mode</strong>（三选一）：</p>
<ul data-start="482" data-end="730">
<li data-start="482" data-end="569">
<p data-start="484" data-end="569"><strong data-start="484" data-end="499">Managed（推荐）</strong>：Cloudflare 自动决定是否需要交互（一般体验最好） <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/concepts/widget/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/concepts/widget/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
<li data-start="575" data-end="654">
<p data-start="577" data-end="654"><strong data-start="577" data-end="596">Non-Interactive</strong>：用户看到一个加载组件，但不需要点选 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/concepts/widget/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/concepts/widget/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
<li data-start="660" data-end="730">
<p data-start="662" data-end="730"><strong data-start="662" data-end="675">Invisible</strong>：完全不显示组件（更“无感”） <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/concepts/widget/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/concepts/widget/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
</ul>
</li>
</ul>
</li>
<li data-start="731" data-end="844">
<p data-start="734" data-end="749">Create 后你会得到一对：</p>
<ul data-start="753" data-end="844">
<li data-start="753" data-end="775">
<p data-start="755" data-end="775"><strong data-start="755" data-end="770">Sitekey（公钥）</strong>：给前端用</p>
</li>
<li data-start="779" data-end="844">
<p data-start="781" data-end="844"><strong data-start="781" data-end="799">Secret key（私钥）</strong>：给后端校验用 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 95px;"><a href="https://developers.cloudflare.com/turnstile/get-started/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 95px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span><span class="-me-1 flex h-full items-center rounded-full px-1 text-[#8F8F8F]">+1</span></span></span></a></span></span></p>
</li>
</ul>
</li>
</ol>
<blockquote data-start="846" data-end="938">
<p data-start="848" data-end="938">注意：<strong data-start="851" data-end="885">每个 widget 默认至少要配置 1 个 hostname</strong>，否则创建不了或无法正常使用。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/additional-configuration/hostname-management/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/additional-configuration/hostname-management/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</blockquote>
<hr data-start="940" data-end="943">
<h2 data-start="945" data-end="972">2) 前端嵌入（最简单：Implicit 渲染）</h2>
<p data-start="974" data-end="994">把下面这段放到你的页面（通常是表单里）：</p>
<pre class="overflow-visible! px-0!" data-start="996" data-end="1306"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">html</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="复制"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>复制代码</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-html"><span><span><span class="hljs-comment">&lt;!-- 1) 引入 Turnstile 脚本 --&gt;</span></span><span>
</span><span><span class="hljs-tag">&lt;<span class="hljs-name">script</span></span></span><span> </span><span><span class="hljs-attr">src</span></span><span>=</span><span><span class="hljs-string">"https://challenges.cloudflare.com/turnstile/v0/api.js"</span></span><span> </span><span><span class="hljs-attr">async</span></span><span> </span><span><span class="hljs-attr">defer</span></span><span>&gt;</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span></span></span><span>&gt;

</span><span><span class="hljs-tag">&lt;<span class="hljs-name">form</span></span></span><span> </span><span><span class="hljs-attr">method</span></span><span>=</span><span><span class="hljs-string">"POST"</span></span><span> </span><span><span class="hljs-attr">action</span></span><span>=</span><span><span class="hljs-string">"/login"</span></span><span>&gt;
  </span><span><span class="hljs-comment">&lt;!-- 2) 放一个容器（Turnstile 会自动渲染） --&gt;</span></span><span>
  </span><span><span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span><span> </span><span><span class="hljs-attr">class</span></span><span>=</span><span><span class="hljs-string">"cf-turnstile"</span></span><span> </span><span><span class="hljs-attr">data-sitekey</span></span><span>=</span><span><span class="hljs-string">"你的SITE_KEY"</span></span><span>&gt;</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span></span></span><span>&gt;

  </span><span><span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></span><span> </span><span><span class="hljs-attr">type</span></span><span>=</span><span><span class="hljs-string">"submit"</span></span><span>&gt;提交</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span></span></span><span>&gt;
</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span></span></span><span>&gt;
</span></span></code></div></div></pre>
<p data-start="1308" data-end="1399">这就是官方推荐的最小用法：脚本 + <code data-start="1326" data-end="1340">cf-turnstile</code> 容器 + <code data-start="1346" data-end="1360">data-sitekey</code>。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<h3 data-start="1401" data-end="1416">常用可选配置（按需加）</h3>
<ul data-start="1417" data-end="2060">
<li data-start="1417" data-end="1646">
<p data-start="1419" data-end="1512"><strong data-start="1419" data-end="1434">改 token 字段名</strong>（默认会自动注入隐藏字段 <code data-start="1447" data-end="1470">cf-turnstile-response</code>）： <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<pre class="overflow-visible! px-0!" data-start="1515" data-end="1646"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">html</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="复制"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>复制代码</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-html"><span><span><span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span><span> </span><span><span class="hljs-attr">class</span></span><span>=</span><span><span class="hljs-string">"cf-turnstile"</span></span><span>
     </span><span><span class="hljs-attr">data-sitekey</span></span><span>=</span><span><span class="hljs-string">"你的SITE_KEY"</span></span><span>
     </span><span><span class="hljs-attr">data-response-field-name</span></span><span>=</span><span><span class="hljs-string">"turnstile-token"</span></span><span>&gt;</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span></span></span><span>&gt;
</span></span></code></div></div></pre>
</li>
<li data-start="1647" data-end="1821">
<p data-start="1649" data-end="1724"><strong data-start="1649" data-end="1664">区分场景 action</strong>（比如 login / signup）： <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<pre class="overflow-visible! px-0!" data-start="1727" data-end="1821"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">html</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="复制"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>复制代码</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-html"><span><span><span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span><span> </span><span><span class="hljs-attr">class</span></span><span>=</span><span><span class="hljs-string">"cf-turnstile"</span></span><span> </span><span><span class="hljs-attr">data-sitekey</span></span><span>=</span><span><span class="hljs-string">"你的SITE_KEY"</span></span><span> </span><span><span class="hljs-attr">data-action</span></span><span>=</span><span><span class="hljs-string">"login"</span></span><span>&gt;</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span></span></span><span>&gt;
</span></span></code></div></div></pre>
</li>
<li data-start="1822" data-end="2060">
<p data-start="1824" data-end="1907"><strong data-start="1824" data-end="1833">尺寸/外观</strong>（仅 Managed / Non-Interactive 有意义）： <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 95px;"><a href="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 95px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span><span class="-me-1 flex h-full items-center rounded-full px-1 text-[#8F8F8F]">+1</span></span></span></a></span></span></p>
<pre class="overflow-visible! px-0!" data-start="1910" data-end="2060"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">html</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="复制"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>复制代码</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-html"><span><span><span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span><span> </span><span><span class="hljs-attr">class</span></span><span>=</span><span><span class="hljs-string">"cf-turnstile"</span></span><span>
     </span><span><span class="hljs-attr">data-sitekey</span></span><span>=</span><span><span class="hljs-string">"你的SITE_KEY"</span></span><span>
     </span><span><span class="hljs-attr">data-size</span></span><span>=</span><span><span class="hljs-string">"compact"</span></span><span>
     </span><span><span class="hljs-attr">data-appearance</span></span><span>=</span><span><span class="hljs-string">"interaction-only"</span></span><span>&gt;</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span></span></span><span>&gt;
</span></span></code></div></div></pre>
</li>
</ul>
<hr data-start="2062" data-end="2065">
<h2 data-start="2067" data-end="2089">3) 后端必须做校验（否则等于没防护）</h2>
<p data-start="2091" data-end="2205"><strong data-start="2091" data-end="2105">只做前端展示不算完成</strong>：你必须在服务端调用 Siteverify API 校验 token。token <strong data-start="2146" data-end="2164">5 分钟过期、且只能校验一次</strong>。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<h3 data-start="2207" data-end="2229">3.1 你后端从哪里拿 token？</h3>
<p data-start="2230" data-end="2341">如果你用的是上面的默认表单集成，Turnstile 会自动塞一个隐藏字段，默认名字是 <strong data-start="2273" data-end="2300"><code data-start="2275" data-end="2298">cf-turnstile-response</code></strong>。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/widget-configurations/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<h3 data-start="2343" data-end="2369">3.2 用 curl 演示校验请求（最直观）</h3>
<pre class="overflow-visible! px-0!" data-start="2370" data-end="2525"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="复制"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>复制代码</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>curl -X POST https://challenges.cloudflare.com/turnstile/v0/siteverify \
  -d </span><span><span class="hljs-string">"secret=你的SECRET_KEY"</span></span><span> \
  -d </span><span><span class="hljs-string">"response=表单里的cf-turnstile-response"</span></span><span>
</span></span></code></div></div></pre>
<p data-start="2527" data-end="2606">校验接口与必填参数（<code data-start="2537" data-end="2545">secret</code>、<code data-start="2546" data-end="2556">response</code>）是官方定义的： <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<ul data-start="2607" data-end="2802">
<li data-start="2607" data-end="2724">
<p data-start="2609" data-end="2724">Endpoint：<code data-start="2618" data-end="2682">POST https://challenges.cloudflare.com/turnstile/v0/siteverify</code> <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
<li data-start="2725" data-end="2802">
<p data-start="2727" data-end="2802">参数：<code data-start="2730" data-end="2738">secret</code>（私钥）、<code data-start="2743" data-end="2753">response</code>（token） <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
</ul>
<p data-start="2804" data-end="2897">你的后端逻辑就是：<strong data-start="2813" data-end="2856">只有当返回 JSON 的 <code data-start="2828" data-end="2843">success: true</code> 才允许登录/提交表单</strong>。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<hr data-start="2899" data-end="2902">
<h2 data-start="2904" data-end="2931">4) 开发/自动化测试怎么搞（不想被验证码干扰）</h2>
<p data-start="2932" data-end="3088">Cloudflare 提供了<strong data-start="2946" data-end="2977">测试用的 dummy sitekey / secret</strong>，用于本地开发、E2E 自动化测试（例如 Selenium/Cypress/Playwright），避免被 Turnstile 当机器人拦掉。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/troubleshooting/testing/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/troubleshooting/testing/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
<p data-start="3090" data-end="3095">例如：</p>
<ul data-start="3096" data-end="3277">
<li data-start="3096" data-end="3177">
<p data-start="3098" data-end="3177"><code data-start="3098" data-end="3124">1x00000000000000000000AA</code>（可见组件，永远通过） <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/troubleshooting/testing/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/troubleshooting/testing/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
<li data-start="3178" data-end="3277">
<p data-start="3180" data-end="3277"><code data-start="3180" data-end="3217">1x0000000000000000000000000000000AA</code>（校验永远通过的测试 secret） <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/troubleshooting/testing/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/troubleshooting/testing/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
</ul>
<hr data-start="3279" data-end="3282">
<h2 data-start="3284" data-end="3304">最容易踩坑的 3 件事（快速排查）</h2>
<ol data-start="3305" data-end="3549">
<li data-start="3305" data-end="3385">
<p data-start="3308" data-end="3385"><strong data-start="3308" data-end="3320">忘了做服务端校验</strong>（只嵌前端）：必须调用 siteverify。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
<li data-start="3386" data-end="3467">
<p data-start="3389" data-end="3467"><strong data-start="3389" data-end="3405">hostname 没配对</strong>：widget 只能在你授权的域名上用。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/additional-configuration/hostname-management/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/additional-configuration/hostname-management/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
<li data-start="3468" data-end="3549">
<p data-start="3471" data-end="3549"><strong data-start="3471" data-end="3488">token 过期/重复校验</strong>：token 5 分钟过期且单次使用。 <span class="" data-state="closed"><span class="ms-1 inline-flex max-w-full items-center relative top-[-0.094rem] animate-[show_150ms_ease-in]" data-testid="webpage-citation-pill" style="width: 80px;"><a href="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" target="_blank" rel="noopener" alt="https://developers.cloudflare.com/turnstile/get-started/server-side-validation/" class="flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium transition-colors duration-150 ease-in-out text-token-text-secondary! bg-[#F4F4F4]! dark:bg-[#303030]!" style="max-width: 80px;"><span class="relative start-0 bottom-0 flex h-full w-full items-center"><span class="flex h-4 w-full items-center justify-between overflow-hidden" style="opacity: 1; transform: none;"><span class="max-w-[15ch] grow truncate overflow-hidden text-center">Cloudflare Docs</span></span></span></a></span></span></p>
</li>
</ol>
<hr data-start="3551" data-end="3554">
<p data-start="3556" data-end="3667">如果你告诉我你用的后端语言/框架（比如 Node/Express、Spring、Laravel、Django、Go 等）和你要保护的是<strong data-start="3623" data-end="3629">登录</strong>还是<strong data-start="3631" data-end="3640">评论/注册</strong>，我可以直接给你一份“可复制粘贴”的后端校验代码示例。</p>
</div></div>