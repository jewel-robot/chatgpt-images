<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CMU最优控制 第12课 DDP细节补充 - 知乎</title>
  <meta name="created-at" content="1767021443369">
  <meta name="updated-at" content="1767021443369">
  <meta name="source-type" content="zhihu">
  <meta name="source-url" content="https://zhuanlan.zhihu.com/p/1986053009088742308">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f5f5;
      color: #333;
    }
    h1 {
      color: #333;
      border-bottom: 2px solid #10a37f;
      padding-bottom: 10px;
    }
    .message-block {
      margin: 20px 0;
      padding: 16px;
      border-radius: 12px;
    }
    .role-user {
      background: #e8f4fd;
      border-left: 4px solid #3b82f6;
    }
    .role-ai {
      background: #f0fdf4;
      border-left: 4px solid #10b981;
    }
    .message-role {
      font-weight: 700;
      margin-bottom: 8px;
    }
    .role-user .message-role { color: #2563eb; }
    .role-ai .message-role { color: #059669; }
    .message-content {
      line-height: 1.6;
    }
    pre {
      background: #1a1a1a;
      color: #e5e5e5;
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
    }
    code {
      font-family: 'Consolas', 'Monaco', monospace;
    }
    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>CMU最优控制 第12课 DDP细节补充 - 知乎</h1>
  <div class="message-block role-ai">
          <div class="message-role">AI</div>
          <div class="message-content"><h1>CMU最优控制 第12课 DDP细节补充</h1>
<div class="css-1od93p9"><div class="css-376mun"><div class="css-l44lgl"><div class="css-1sr3uml"><div class="css-s1xz2x"><div><div class="Catalog isCatalogV2 css-17v5fjs" data-za-detail-view-name="正文"><div class="css-8kjoqe"><div class="css-1e6hvbc"><div class="css-zkfaav"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--Catalog24" fill="currentColor"><path fill-rule="evenodd" d="M10 5a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H11a1 1 0 0 1-1-1Zm4 6a1 1 0 1 0 0 2h7a1 1 0 1 0 0-2h-7Zm0 7a1 1 0 1 0 0 2h7a1 1 0 1 0 0-2h-7Zm-8.335.25a.915.915 0 0 1-.915-.915V12.75H10a.75.75 0 0 0 0-1.5H4.75V6.665c0-.505.41-.915.915-.915H7a.75.75 0 0 0 0-1.5H5.665A2.415 2.415 0 0 0 3.25 6.665v10.67a2.415 2.415 0 0 0 2.415 2.415H10a.75.75 0 0 0 0-1.5H5.665Z" clip-rule="evenodd"></path></svg></span><div class="css-5287jj">目录</div></div><div class="css-1ifd8ga">收起</div></div></div><div class="css-vm33ny"><div class="Catalog-content css-a3sv8e"><div class="Catalog-FirstLevelTitle Catalog-Title css-lvmdsl"><div data-catalog-target-id="h_1986053009088742308_0" data-catalog-type="editor" data-za-detail-view-id="9745" data-za-detail-view-action="Click" data-za-detail-view-name="正文" class="css-byi3it"><div class="css-nj7ofv">1. DDP说明</div></div></div><div class="Catalog-FirstLevelTitle Catalog-Title css-lvmdsl"><div data-catalog-target-id="h_1986053009088742308_1" data-catalog-type="editor" data-za-detail-view-id="9745" data-za-detail-view-action="Click" data-za-detail-view-name="正文" class="css-byi3it"><div class="css-nj7ofv">2. DDP的Regularization和line search</div></div></div><div class="Catalog-FirstLevelTitle Catalog-Title css-lvmdsl"><div data-catalog-target-id="h_1986053009088742308_2" data-catalog-type="editor" data-za-detail-view-id="9745" data-za-detail-view-action="Click" data-za-detail-view-name="正文" class="css-byi3it"><div class="css-nj7ofv">3. 带约束的DDP</div></div></div></div></div></div></div></div></div></div><span id="content"><div class="RichText ztext Post-RichText css-10o75c2" options="[object Object]"><h2 data-first-child="" id="h_1986053009088742308_0" data-into-catalog-status="">1. DDP说明</h2><ul style="list-style-type: disc; padding-left: 1.5em; margin-left: 0px; margin-top: 0.5em; margin-bottom: 0.5em;"><li data-pid="OxjYzN6P" style="display: list-item; margin-top: 0.25em; margin-bottom: 0.25em;">DDP优化问题是非凸的，所以在有一个随机的不同的初始数值 <span class="ztext-math" data-eeimg="1" data-tex="\{x_n,u_n \}_0"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.509ex" height="2.789ex" viewBox="0 -849.8 4094.3 1200.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMAIN-7B" x="0" y="0"></use><g transform="translate(500,0)"><use xlink:href="#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="809" y="-213"></use></g><use xlink:href="#MJMAIN-2C" x="1597" y="0"></use><g transform="translate(2042,0)"><use xlink:href="#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="809" y="-213"></use></g><g transform="translate(3139,0)"><use xlink:href="#MJMAIN-7D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-30" x="707" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">{</mo><msub><mi>x</mi><mi>n</mi></msub><mo>,</mo><msub><mi>u</mi><mi>n</mi></msub><msub><mo fence="false" stretchy="false">}</mo><mn>0</mn></msub></math></span></span><span class="tex2jax_ignore math-holder">\{x_n,u_n \}_0</span></span></span> 时会出现不同的局部最优化结果，即优化得到不同的轨迹。</li><li data-pid="aInaCzmZ" style="display: list-item; margin-top: 0.25em; margin-bottom: 0.25em;">虽然使用DDP求解每完成一次大循环迭代次数会更少，但是计算时间会比iLQR更长。</li><li data-pid="81gFYPrD" style="display: list-item; margin-top: 0.25em; margin-bottom: 0.25em;">对于初始轨迹的要求：需要初始轨迹 <span class="ztext-math" data-eeimg="1" data-tex="\{x_n \}_0"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.927ex" height="2.789ex" viewBox="0 -849.8 2552 1200.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMAIN-7B" x="0" y="0"></use><g transform="translate(500,0)"><use xlink:href="#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="809" y="-213"></use></g><g transform="translate(1597,0)"><use xlink:href="#MJMAIN-7D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-30" x="707" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">{</mo><msub><mi>x</mi><mi>n</mi></msub><msub><mo fence="false" stretchy="false">}</mo><mn>0</mn></msub></math></span></span><span class="tex2jax_ignore math-holder">\{x_n \}_0</span></span></span> 是在动力学 <span class="ztext-math" data-eeimg="1" data-tex="x_{k+1}=f(x_n,u_n )"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.836ex" height="2.789ex" viewBox="0 -849.8 7248.6 1200.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2B" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1300" y="0"></use></g><use xlink:href="#MJMAIN-3D" x="2223" y="0"></use><use xlink:href="#MJMATHI-66" x="3279" y="0"></use><use xlink:href="#MJMAIN-28" x="3830" y="0"></use><g transform="translate(4219,0)"><use xlink:href="#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="809" y="-213"></use></g><use xlink:href="#MJMAIN-2C" x="5316" y="0"></use><g transform="translate(5761,0)"><use xlink:href="#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="809" y="-213"></use></g><use xlink:href="#MJMAIN-29" x="6859" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>,</mo><msub><mi>u</mi><mi>n</mi></msub><mo stretchy="false">)</mo></math></span></span><span class="tex2jax_ignore math-holder">x_{k+1}=f(x_n,u_n )</span></span></span> 可以到达的范围内的。不适合某些可以生成轨迹但这些轨迹不在动力学可达范围内的算法。</li></ul><h2 id="h_1986053009088742308_1" data-into-catalog-status="">2. DDP的Regularization和line search</h2><ul style="list-style-type: disc; padding-left: 1.5em; margin-left: 0px; margin-top: 0.5em; margin-bottom: 0.5em;"><li data-pid="WsMiEfor" style="display: list-item; margin-top: 0.25em; margin-bottom: 0.25em;">既然DDP的推导过程是与牛顿迭代的推导是类似的，那么需要考虑在牛顿迭代时遇到的Regularization和line search问题。</li><li data-pid="-ucVjyuJ" style="display: list-item; margin-top: 0.25em; margin-bottom: 0.25em;">Regularization。就像在进行标准的牛顿迭代一样， <span class="ztext-math" data-eeimg="1" data-tex="S_n (x,u)"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.146ex" height="2.789ex" viewBox="0 -849.8 3507.3 1200.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="867" y="-213"></use><use xlink:href="#MJMAIN-28" x="1138" y="0"></use><use xlink:href="#MJMATHI-78" x="1527" y="0"></use><use xlink:href="#MJMAIN-2C" x="2100" y="0"></use><use xlink:href="#MJMATHI-75" x="2545" y="0"></use><use xlink:href="#MJMAIN-29" x="3117" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>S</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span><span class="tex2jax_ignore math-holder">S_n (x,u)</span></span></span> 的Hessian矩阵在反向迭代进行求解时会出现非正定的情况，所以需要对其进行Regularization。有几种进行的方法：</li></ul><p data-pid="raY0OOxQ">          1） 直接对 <span class="ztext-math" data-eeimg="1" data-tex="S_n (x,u)"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.146ex" height="2.789ex" viewBox="0 -849.8 3507.3 1200.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="867" y="-213"></use><use xlink:href="#MJMAIN-28" x="1138" y="0"></use><use xlink:href="#MJMATHI-78" x="1527" y="0"></use><use xlink:href="#MJMAIN-2C" x="2100" y="0"></use><use xlink:href="#MJMATHI-75" x="2545" y="0"></use><use xlink:href="#MJMAIN-29" x="3117" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>S</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span><span class="tex2jax_ignore math-holder">S_n (x,u)</span></span></span> 的Hessian矩阵加上一个单位阵;</p><p data-pid="XT04Atxd">          2） 直接对 <span class="ztext-math" data-eeimg="1" data-tex="S_n (x,u)"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.146ex" height="2.789ex" viewBox="0 -849.8 3507.3 1200.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="867" y="-213"></use><use xlink:href="#MJMAIN-28" x="1138" y="0"></use><use xlink:href="#MJMATHI-78" x="1527" y="0"></use><use xlink:href="#MJMAIN-2C" x="2100" y="0"></use><use xlink:href="#MJMATHI-75" x="2545" y="0"></use><use xlink:href="#MJMAIN-29" x="3117" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>S</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span><span class="tex2jax_ignore math-holder">S_n (x,u)</span></span></span> 的Hessian矩阵加上一个单位阵：对 <span class="ztext-math" data-eeimg="1" data-tex="V_n (x)"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.713ex" height="2.789ex" viewBox="0 -849.8 2459.6 1200.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-56" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="825" y="-213"></use><use xlink:href="#MJMAIN-28" x="1108" y="0"></use><use xlink:href="#MJMATHI-78" x="1497" y="0"></use><use xlink:href="#MJMAIN-29" x="2070" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>V</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><span class="tex2jax_ignore math-holder">V_n (x)</span></span></span> 的Hessian矩阵 <span class="ztext-math" data-eeimg="1" data-tex="P_n"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.711ex" height="2.326ex" viewBox="0 -750.1 1167.1 1001.4" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="908" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mi>n</mi></msub></math></span></span><span class="tex2jax_ignore math-holder">P_n</span></span></span> 在反向算出来之后进行正则化。</p><p data-pid="Va1SSxEr">          3 ）只对 <span class="ztext-math" data-eeimg="1" data-tex="G_{uu}"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.939ex" height="2.442ex" viewBox="0 -799.9 1696.1 1051.3" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-47" x="0" y="0"></use><g transform="translate(786,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="572" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>u</mi></mrow></msub></math></span></span><span class="tex2jax_ignore math-holder">G_{uu}</span></span></span> 进行优化，因为在求解参数 <span class="ztext-math" data-eeimg="1" data-tex="(K_n,d_n)"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.462ex" height="2.789ex" viewBox="0 -849.8 3643.4 1200.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="1201" y="-213"></use></g><use xlink:href="#MJMAIN-2C" x="1763" y="0"></use><g transform="translate(2208,0)"><use xlink:href="#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="736" y="-213"></use></g><use xlink:href="#MJMAIN-29" x="3253" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><msub><mi>K</mi><mi>n</mi></msub><mo>,</mo><msub><mi>d</mi><mi>n</mi></msub><mo stretchy="false">)</mo></math></span></span><span class="tex2jax_ignore math-holder">(K_n,d_n)</span></span></span> 时只用到了它（只对iLQR有效）。</p><ul style="list-style-type: disc; padding-left: 1.5em; margin-left: 0px; margin-top: 0.5em; margin-bottom: 0.5em;"><li data-pid="fBUTF0al" style="display: list-item; margin-top: 0.25em; margin-bottom: 0.25em;">line search。前面进行的类牛顿算法推导中得到的传统项 <span class="ztext-math" data-eeimg="1" data-tex="∆u_n=-G_{uu}^{-1} g_u"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x2206;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.832ex" height="2.905ex" viewBox="0 -949.6 6816.4 1250.8" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMAIN-394" x="0" y="0"></use><g transform="translate(833,0)"><use xlink:href="#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="809" y="-213"></use></g><use xlink:href="#MJMAIN-3D" x="2208" y="0"></use><use xlink:href="#MJMAIN-2212" x="3264" y="0"></use><g transform="translate(4043,0)"><use xlink:href="#MJMATHI-47" x="0" y="0"></use><g transform="translate(786,403)"><use transform="scale(0.707)" xlink:href="#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="778" y="0"></use></g><g transform="translate(786,-149)"><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="572" y="0"></use></g></g><g transform="translate(5834,0)"><use xlink:href="#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="675" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>∆</mo><msub><mi>u</mi><mi>n</mi></msub><mo>=</mo><mo>−</mo><msubsup><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>u</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>g</mi><mi>u</mi></msub></math></span></span><span class="tex2jax_ignore math-holder">∆u_n=-G_{uu}^{-1} g_u</span></span></span> 其实确定的是Descent method中的search direction，还需要确定这一步的search step size t。采用Backtracking line search操作进行寻找：</li></ul><figure data-size="normal"><div><img src="https://raw.githubusercontent.com/jewel-robot/chatgpt-images/main/images/note_1767021425186-5bba8ja_img_0_1767021425196.png" data-caption="" data-size="normal" data-rawwidth="650" data-rawheight="146" data-original-token="v2-07c2604f13945630e6a31f4eda7045a2" class="origin_image zh-lightbox-thumb" width="650" data-original="https://pic3.zhimg.com/v2-a4e8cc643293debd027e7873866e57e4_r.jpg" style="max-width: 100%; height: auto; display: block; margin: 8px 0px; border-radius: 8px;" data-github-path="images/note_1767021425186-5bba8ja_img_0_1767021425196.png" data-github-sha="cae24cffb763f944227c1bb886a4ab099fb585fc" alt="图片"></div></figure><p data-pid="CJti56g3">    因为是序列优化，所以在计算 <span class="ztext-math" data-eeimg="1" data-tex="αt∇f(x)_n^T∆x_n"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x3B1;&lt;/mo&gt;&lt;/mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2207;&lt;/mo&gt;&lt;/mrow&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;msubsup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/msubsup&gt;&lt;mo&gt;&amp;#x2206;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.586ex" height="2.905ex" viewBox="0 -899.7 6710.7 1250.8" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-3B1" x="0" y="0"></use><use xlink:href="#MJMATHI-74" x="640" y="0"></use><use xlink:href="#MJMAIN-2207" x="1002" y="0"></use><use xlink:href="#MJMATHI-66" x="1835" y="0"></use><use xlink:href="#MJMAIN-28" x="2386" y="0"></use><use xlink:href="#MJMATHI-78" x="2775" y="0"></use><g transform="translate(3348,0)"><use xlink:href="#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-54" x="550" y="488"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="550" y="-212"></use></g><use xlink:href="#MJMAIN-394" x="4557" y="0"></use><g transform="translate(5613,0)"><use xlink:href="#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="809" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>α</mo></mrow><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mo>∇</mo></mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><msubsup><mo stretchy="false">)</mo><mi>n</mi><mi>T</mi></msubsup><mo>∆</mo><msub><mi>x</mi><mi>n</mi></msub></math></span></span><span class="tex2jax_ignore math-holder">αt∇f(x)_n^T∆x_n</span></span></span> 这项时需要考虑所有离散点，使用加和进行表示：</p><figure data-size="normal"><div><img src="https://raw.githubusercontent.com/jewel-robot/chatgpt-images/main/images/note_1767021425186-5bba8ja_img_1_1767021431691.png" data-caption="" data-size="normal" data-rawwidth="478" data-rawheight="88" data-original-token="v2-9e5404a81136fc7d1b5d4d9ca78ae54c" class="origin_image zh-lightbox-thumb" width="478" data-original="https://pic4.zhimg.com/v2-05fa65c1144a34585bf1506960629769_r.jpg" style="max-width: 100%; height: auto; display: block; margin: 8px 0px; border-radius: 8px;" data-github-path="images/note_1767021425186-5bba8ja_img_1_1767021431691.png" data-github-sha="7a507d1c14253deabfedafd69d1b31c3d293c789" alt="图片"></div></figure><p data-pid="IHXGAj7U">     其中 <span class="ztext-math" data-eeimg="1" data-tex="{∇f(x)}_n={g_u}_n，∆x_n=(G_{uu}^{-1} g_u )_n=d_n"><span></span><span><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2207;&lt;/mo&gt;&lt;/mrow&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#xFF0C;&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;&amp;#x2206;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="39.633ex" height="3.137ex" viewBox="0 -999.4 17064.2 1350.5" role="img" focusable="false" aria-hidden="true" style="vertical-align: middle; display: inline-block;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMAIN-2207" x="0" y="0"></use><use xlink:href="#MJMATHI-66" x="833" y="0"></use><use xlink:href="#MJMAIN-28" x="1384" y="0"></use><use xlink:href="#MJMATHI-78" x="1773" y="0"></use><use xlink:href="#MJMAIN-29" x="2346" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="3868" y="-405"></use><use xlink:href="#MJMAIN-3D" x="3537" y="0"></use><g transform="translate(4594,0)"><use xlink:href="#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="675" y="-213"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="1389" y="-342"></use></g><g transform="translate(6101,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(49.871) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="#MJMAIN-394" x="7121" y="0"></use><g transform="translate(8176,0)"><use xlink:href="#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="809" y="-213"></use></g><use xlink:href="#MJMAIN-3D" x="9551" y="0"></use><use xlink:href="#MJMAIN-28" x="10608" y="0"></use><g transform="translate(10997,0)"><use xlink:href="#MJMATHI-47" x="0" y="0"></use><g transform="translate(786,403)"><use transform="scale(0.707)" xlink:href="#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="778" y="0"></use></g><g transform="translate(786,-149)"><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="572" y="0"></use></g></g><g transform="translate(12788,0)"><use xlink:href="#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-75" x="675" y="-213"></use></g><g transform="translate(13770,0)"><use xlink:href="#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="550" y="-213"></use></g><use xlink:href="#MJMAIN-3D" x="14962" y="0"></use><g transform="translate(16019,0)"><use xlink:href="#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="736" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>∇</mo></mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mi>n</mi></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><msub><mi>g</mi><mi>u</mi></msub></mrow><mi>n</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>∆</mo><msub><mi>x</mi><mi>n</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msubsup><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>u</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>g</mi><mi>u</mi></msub><msub><mo stretchy="false">)</mo><mi>n</mi></msub><mo>=</mo><msub><mi>d</mi><mi>n</mi></msub></math></span></span><span class="tex2jax_ignore math-holder">{∇f(x)}_n={g_u}_n，∆x_n=(G_{uu}^{-1} g_u )_n=d_n</span></span></span> 。这里不考虑额外项/反馈项，原因在上一课已经分析了。</p><p data-pid="J3lShmlk">    然后这一步的∆J进行判断，如果不满足条件：</p><figure data-size="normal"><div><img src="https://raw.githubusercontent.com/jewel-robot/chatgpt-images/main/images/note_1767021425186-5bba8ja_img_2_1767021434913.png" data-caption="" data-size="normal" data-rawwidth="472" data-rawheight="100" data-original-token="v2-665726a83389f397b88a7987e68535c0" class="origin_image zh-lightbox-thumb" width="472" data-original="https://pica.zhimg.com/v2-6e33281bf5709ce1c034cfce08ac121c_r.jpg" style="max-width: 100%; height: auto; display: block; margin: 8px 0px; border-radius: 8px;" data-github-path="images/note_1767021425186-5bba8ja_img_2_1767021434913.png" data-github-sha="b329014eb34f31700084784bc89787365869cb40" alt="图片"></div></figure><p data-pid="CIifpKTH">    则通过α取值0.5，让step t变小。b取值范围 <span class="ztext-math" data-eeimg="1" data-tex="[10^{-4},0.1]" style="font-family: &quot;Times New Roman&quot;, serif; font-style: italic; padding: 0px 2px;"><span></span><span><span class="tex2jax_ignore math-holder">[10^{-4},0.1]</span></span></span> 应该是考虑了序列加和cost影响，将其变小，同时对于微小的cost变化也可以接受，让每次迭代不很激进。代码如下：</p><figure data-size="normal"><div><img src="https://raw.githubusercontent.com/jewel-robot/chatgpt-images/main/images/note_1767021425186-5bba8ja_img_3_1767021437310.png" data-caption="" data-size="normal" data-rawwidth="652" data-rawheight="196" data-original-token="v2-8863835759e697ac92ee0485ff840dba" class="origin_image zh-lightbox-thumb" width="652" data-original="https://pic2.zhimg.com/v2-3018ac4e3e08f9b7567c2f75e5f0fe35_r.jpg" style="max-width: 100%; height: auto; display: block; margin: 8px 0px; border-radius: 8px;" data-github-path="images/note_1767021425186-5bba8ja_img_3_1767021437310.png" data-github-sha="d7325cebfb6c3dac81103f94dc1d7cbcfe6460a3" alt="图片"></div></figure><h2 id="h_1986053009088742308_2" data-into-catalog-status="">3. 带约束的DDP</h2><ul style="list-style-type: disc; padding-left: 1.5em; margin-left: 0px; margin-top: 0.5em; margin-bottom: 0.5em;"><li data-pid="3_rnmlsk" style="display: list-item; margin-top: 0.25em; margin-bottom: 0.25em;">对控制输入的限制</li></ul><p data-pid="nqTYyPKN">    在每一次求解局部最优控制输入时其实是在求解一个无约束的QP，因此可以加入对输入的限制作为一个QP问题进行求解，会非常快：</p><figure data-size="normal"><div><img src="https://raw.githubusercontent.com/jewel-robot/chatgpt-images/main/images/note_1767021425186-5bba8ja_img_4_1767021440281.png" data-caption="" data-size="normal" data-rawwidth="664" data-rawheight="178" data-original-token="v2-31fbebf4d6e557c59bf38549962262fb" class="origin_image zh-lightbox-thumb" width="664" data-original="https://pic4.zhimg.com/v2-55bfab4f7b638c9a53d97e531662acd5_r.jpg" style="max-width: 100%; height: auto; display: block; margin: 8px 0px; border-radius: 8px;" data-github-path="images/note_1767021425186-5bba8ja_img_4_1767021440281.png" data-github-sha="15f53ec7110057560c37e8e802ac499d13498502" alt="图片"></div></figure><ul style="list-style-type: disc; padding-left: 1.5em; margin-left: 0px; margin-top: 0.5em; margin-bottom: 0.5em;"><li data-pid="YPc6Xbt3" style="display: list-item; margin-top: 0.25em; margin-bottom: 0.25em;">对状态的限制</li></ul><p data-pid="g9_xrTSP">    DDP的stage cost 是二次的，可以将对状态的一次不等式限制加入到cost中，组成拉格朗日形式。</p></div><span id="VirtualCatalogAnchorPoint"></span></span></div></div></div>
        </div>
</body>
</html>