<div class="message-block role-user"><div class="message-role">用户</div><div class="message-content"><img src="https://raw.githubusercontent.com/jewel-robot/chatgpt-images/main/images/note_1766385803622_img_0_1766385803651.png" alt="Uploaded image" style="max-width: 100%; height: auto; display: block; margin: 8px 0px; border-radius: 8px;" data-github-path="images/note_1766385803622_img_0_1766385803651.png" data-github-sha="a2e7b2d42e5a88b4850c64b10d1eed9df3cd53a6">更换控制器后，传感器的端口好像都发生改变了，之前是这样的，我要怎么看现在正确的端口呢</div></div>
<div class="message-block role-ai"><div class="message-role">AI</div><div class="message-content"><p data-start="0" data-end="178">可以的。你现在要做的事，本质上是把 <strong data-start="18" data-end="108">“物理相机/传感器” ↔ “系统里对应的 USB 拓扑端口(比如 10-3)” ↔ “/dev/videoX 或 /dev/v4l/by-path/... symlink”</strong> 重新对应起来。换了控制器后，PCI 地址/USB root hub 变了，所以之前写死的 <code data-start="154" data-end="170">10-3 / 2-1 ...</code> 很可能都会变。</p>
<p data-start="180" data-end="218">下面给你一套最稳的排查方法（从快到稳），你照着跑就能得到“现在正确的端口”。</p>
<hr data-start="220" data-end="223">
<h2 data-start="225" data-end="254">1) 先看现在系统识别到哪些 V4L2 设备（相机）</h2>
<pre class="overflow-visible! px-0!" data-start="255" data-end="290"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>v4l2-ctl --list-devices
</span></span></code></div></div></pre>
<p data-start="291" data-end="347">它会列出每个相机以及它对应的 <code data-start="306" data-end="319">/dev/video*</code> 节点（注意：一个相机常常会有多个 video 节点）。</p>
<hr data-start="349" data-end="352">
<h2 data-start="354" data-end="403">2) 用 <code data-start="362" data-end="380">/dev/v4l/by-path</code> 找“跟 USB 拓扑绑定”的稳定路径（推荐）</h2>
<pre class="overflow-visible! px-0!" data-start="404" data-end="439"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span><span class="hljs-built_in">ls</span></span><span> -l /dev/v4l/by-path/
</span></span></code></div></div></pre>
<p data-start="441" data-end="455">你会看到类似你截图里的这种：</p>
<ul data-start="456" data-end="520">
<li data-start="456" data-end="520">
<p data-start="458" data-end="520"><code data-start="458" data-end="520">...pci-0005:04:00.0-usb-0:2:1.0-video-index0 -&gt; ../../videoX</code></p>
</li>
</ul>
<p data-start="522" data-end="608">这里的 <code data-start="526" data-end="539">usb-0:2:1.0</code> 这种字段能反映它挂在 USB 拓扑的哪个“口/链路”上（但 PCI 段会变，所以你最好用它来重新写你的 <code data-start="592" data-end="606">*_CAMERA_DEV</code>）。</p>
<p data-start="610" data-end="653">你当前环境变量里写的就是这种 by-path（很好，换控制器后只要重抄一遍新的即可）。</p>
<hr data-start="655" data-end="658">
<h2 data-start="660" data-end="715">3) 关键：把 <code data-start="671" data-end="684">/dev/videoX</code> 反查到你要的 “10-3 / 2-1” 这种 USB 端口号</h2>
<p data-start="716" data-end="813">你之前的 <code data-start="721" data-end="743">FRONT_RGBD_PORT=10-3</code> 这类值，通常对应的是 <strong data-start="755" data-end="772">sysfs USB 设备名</strong>（<code data-start="773" data-end="800">/sys/bus/usb/devices/10-3</code> 这种）。最快的反查方式：</p>
<h3 data-start="815" data-end="837">对某个 <code data-start="823" data-end="836">/dev/videoX</code>：</h3>
<pre class="overflow-visible! px-0!" data-start="838" data-end="896"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>DEV=/dev/videoX
udevadm info -q path -n </span><span><span class="hljs-string">"<span class="hljs-variable">$DEV</span></span></span><span>"
</span></span></code></div></div></pre>
<p data-start="898" data-end="909">输出里一般会包含类似：</p>
<ul data-start="910" data-end="956">
<li data-start="910" data-end="956">
<p data-start="912" data-end="956"><code data-start="912" data-end="956">.../usb10/10-3/10-3:1.0/video4linux/videoX</code></p>
</li>
</ul>
<p data-start="958" data-end="1016">看到 <code data-start="961" data-end="977">usb10/10-3/...</code> 的话，<strong data-start="981" data-end="1015"><code data-start="983" data-end="989">10-3</code> 就是你要填回 <code data-start="997" data-end="1010">*_RGBD_PORT</code> 的值</strong>。</p>
<hr data-start="1018" data-end="1021">
<h2 data-start="1023" data-end="1075">4) 一条命令批量打印：每个 by-path → videoX → 对应 USB 端口(10-3)</h2>
<pre class="overflow-visible! px-0!" data-start="1076" data-end="1336"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span><span class="hljs-keyword">for</span></span><span> p </span><span><span class="hljs-keyword">in</span></span><span> /dev/v4l/by-path/*video-index0; </span><span><span class="hljs-keyword">do</span></span><span>
  v=$(</span><span><span class="hljs-built_in">readlink</span></span><span> -f </span><span><span class="hljs-string">"<span class="hljs-variable">$p</span></span></span><span>")
  sys=$(udevadm info -q path -n </span><span><span class="hljs-string">"<span class="hljs-variable">$v</span></span></span><span>")
  port=$(</span><span><span class="hljs-built_in">echo</span></span><span> </span><span><span class="hljs-string">"<span class="hljs-variable">$sys</span></span></span><span>" | sed -n </span><span><span class="hljs-string">'s#.*/usb[0-9]\+/\([0-9]\+-[0-9.-]\+\)/.*#\1#p'</span></span><span>)
  </span><span><span class="hljs-built_in">printf</span></span><span> </span><span><span class="hljs-string">"%-90s -&gt; %-12s  USB_PORT=%s\n"</span></span><span> </span><span><span class="hljs-string">"<span class="hljs-variable">$p</span></span></span><span>" </span><span><span class="hljs-string">"<span class="hljs-variable">$v</span></span></span><span>" </span><span><span class="hljs-string">"<span class="hljs-variable">$port</span></span></span><span>"
</span><span><span class="hljs-keyword">done</span></span><span>
</span></span></code></div></div></pre>
<ul data-start="1338" data-end="1452">
<li data-start="1338" data-end="1397">
<p data-start="1340" data-end="1397"><code data-start="1340" data-end="1354">video-index0</code> 一般是主流使用的那个节点（不是绝对，但多数情况下你脚本/程序就是用 index0）。</p>
</li>
<li data-start="1398" data-end="1452">
<p data-start="1400" data-end="1452">输出里 <code data-start="1404" data-end="1419">USB_PORT=10-3</code> / <code data-start="1422" data-end="1427">2-1</code> 之类就是你要更新的 <code data-start="1438" data-end="1451">*_RGBD_PORT</code>。</p>
</li>
</ul>
<hr data-start="1454" data-end="1457">
<h2 data-start="1459" data-end="1502">5) 怎么确认“哪个是 FRONT/BACK/LEFT/RIGHT”（避免猜错）</h2>
<p data-start="1503" data-end="1527">最稳的方法是 <strong data-start="1510" data-end="1526">一次只插一个相机/传感器</strong>：</p>
<ol data-start="1528" data-end="1613">
<li data-start="1528" data-end="1582">
<p data-start="1531" data-end="1582">只插“Front”，跑上面的批量脚本，记下它的 <code data-start="1555" data-end="1566">USB_PORT=</code> 和对应 <code data-start="1571" data-end="1580">by-path</code></p>
</li>
<li data-start="1583" data-end="1603">
<p data-start="1586" data-end="1603">拔掉，插“Back”，再记一次</p>
</li>
<li data-start="1604" data-end="1613">
<p data-start="1607" data-end="1613">依次做完四个</p>
</li>
</ol>
<p data-start="1615" data-end="1629">如果没法断电/拔插，也可以：</p>
<ul data-start="1630" data-end="1757">
<li data-start="1630" data-end="1681">
<p data-start="1632" data-end="1681">看序列号：<code data-start="1637" data-end="1660">ls -l /dev/v4l/by-id/</code>（如果设备提供 serial，这个最稳定）</p>
</li>
<li data-start="1682" data-end="1757">
<p data-start="1684" data-end="1757">或用 <code data-start="1687" data-end="1757">udevadm info -n /dev/videoX | grep -E 'ID_SERIAL|ID_VENDOR|ID_MODEL'</code></p>
</li>
</ul>
<hr data-start="1759" data-end="1762">
<h2 data-start="1764" data-end="1775">你最后要改哪里？</h2>
<ul data-start="1776" data-end="1949">
<li data-start="1776" data-end="1869">
<p data-start="1778" data-end="1869"><code data-start="1778" data-end="1792">*_CAMERA_DEV</code>：建议继续用 <code data-start="1799" data-end="1833">/dev/v4l/by-path/...video-index0</code>（重新从 <code data-start="1838" data-end="1863">ls -l /dev/v4l/by-path/</code> 抄新的）。</p>
</li>
<li data-start="1870" data-end="1949">
<p data-start="1872" data-end="1949"><code data-start="1872" data-end="1885">*_RGBD_PORT</code>：用上面 <code data-start="1890" data-end="1927">udevadm info -q path -n /dev/videoX</code> 反出来的 <code data-start="1933" data-end="1945">10-3 / 2-1</code> 更新。</p>
</li>
</ul>
<hr data-start="1951" data-end="1954">
<p data-start="1956" data-end="1997">如果你愿意，把你现在这台机器上执行这三条的输出贴一下（不用全量，截关键几行就行）：</p>
<ul data-start="1998" data-end="2126">
<li data-start="1998" data-end="2025">
<p data-start="2000" data-end="2025"><code data-start="2000" data-end="2025">ls -l /dev/v4l/by-path/</code></p>
</li>
<li data-start="2026" data-end="2053">
<p data-start="2028" data-end="2053"><code data-start="2028" data-end="2053">v4l2-ctl --list-devices</code></p>
</li>
<li data-start="2054" data-end="2126">
<p data-start="2056" data-end="2126">任选一个你认为是“Front”的 <code data-start="2073" data-end="2086">/dev/videoX</code> 跑：<code data-start="2089" data-end="2126">udevadm info -q path -n /dev/videoX</code></p>
</li>
</ul>
<p data-start="2128" data-end="2190" data-is-last-node="" data-is-only-node="">我可以直接帮你把 FRONT/BACK/LEFT/RIGHT 的新端口和新 <code data-start="2166" data-end="2180">*_CAMERA_DEV</code> 一次性对齐写出来。</p></div></div>
<div class="message-block role-user"><div class="message-role">用户</div><div class="message-content">怎么看深度相机的端口号对应，FRONT_RGBD_PORT。FRONT_CAMERA_DEV是摄像头，两个是不同设备。</div></div>
<div class="message-block role-ai"><div class="message-role">AI</div><div class="message-content"><p data-start="0" data-end="151">明白：<code data-start="3" data-end="21">FRONT_CAMERA_DEV</code> 走的是 <em data-start="26" data-end="49"><em data-start="27" data-end="43">V4L(/dev/video</em>) 摄像头</em>*；而 <code data-start="53" data-end="75">FRONT_RGBD_PORT=10-3</code> 这种通常是你们深度/RGBD 那颗设备在 <strong data-start="97" data-end="123">USB 拓扑上的端口号（sysfs 设备名）</strong>，给某个 RGBD SDK/节点去锁定“插在第几个口”。</p>
<p data-start="153" data-end="212">下面给你最实用的几种办法，能把“深度相机那颗 USB 设备”对应到 <code data-start="187" data-end="205">10-3 / 2-1.3 ...</code> 这种端口号。</p>
<hr data-start="214" data-end="217">
<h2 data-start="219" data-end="251">方法 A：<code data-start="227" data-end="237">lsusb -t</code> 直接看 USB 树（最快）</h2>
<ol data-start="252" data-end="278">
<li data-start="252" data-end="278">
<p data-start="255" data-end="278">先找深度相机的 USB 设备（看厂商/型号）：</p>
</li>
</ol>
<pre class="overflow-visible! px-0!" data-start="279" data-end="296"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>lsusb
</span></span></code></div></div></pre>
<p data-start="297" data-end="304">你会看到类似：</p>
<ul data-start="305" data-end="351">
<li data-start="305" data-end="351">
<p data-start="307" data-end="351"><code data-start="307" data-end="345">Bus 010 Device 005: ID 8086:0b3a ...</code>（只是举例）</p>
</li>
</ul>
<ol start="2" data-start="353" data-end="366">
<li data-start="353" data-end="366">
<p data-start="356" data-end="366">看 USB 拓扑树：</p>
</li>
</ol>
<pre class="overflow-visible! px-0!" data-start="367" data-end="387"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>lsusb -t
</span></span></code></div></div></pre>
<p data-start="389" data-end="404">输出里会出现类似结构（示意）：</p>
<pre class="overflow-visible! px-0!" data-start="405" data-end="543"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">vbnet</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre!"><span><span>/:  Bus </span><span><span class="hljs-number">10</span></span><span>.Port </span><span><span class="hljs-number">1</span></span><span>: Dev </span><span><span class="hljs-number">1</span></span><span>, </span><span><span class="hljs-keyword">Class</span></span><span>=root_hub, Driver=xhci_hcd/...
    |__ Port </span><span><span class="hljs-number">3</span></span><span>: Dev </span><span><span class="hljs-number">5</span></span><span>, </span><span><span class="hljs-keyword">If</span></span><span> </span><span><span class="hljs-number">0</span></span><span>, </span><span><span class="hljs-keyword">Class</span></span><span>=Vendor Specific </span><span><span class="hljs-keyword">Class</span></span><span>, Driver=...
</span></span></code></div></div></pre>
<p data-start="545" data-end="551">这里就对应：</p>
<ul data-start="552" data-end="584">
<li data-start="552" data-end="584">
<p data-start="554" data-end="584"><strong data-start="554" data-end="584">Bus 10 + Port 3  →  <code data-start="576" data-end="582">10-3</code></strong></p>
</li>
</ul>
<p data-start="586" data-end="598">如果是链式口，会长这样：</p>
<ul data-start="599" data-end="658">
<li data-start="599" data-end="658">
<p data-start="601" data-end="658">Bus 2 下 Port 1 下面又挂 Port 3 → <strong data-start="630" data-end="641"><code data-start="632" data-end="639">2-1.3</code></strong><br>
（你之前也有 <code data-start="649" data-end="654">2-1</code> 这种）</p>
</li>
</ul>
<blockquote data-start="660" data-end="703">
<p data-start="662" data-end="703">结论：你要的 <code data-start="669" data-end="686">FRONT_RGBD_PORT</code> 基本就是 <code data-start="692" data-end="702">Bus号-端口链</code>。</p>
</blockquote>
<hr data-start="705" data-end="708">
<h2 data-start="710" data-end="762">方法 B：从 <code data-start="720" data-end="727">lsusb</code> 的 Bus/Device 反查 sysfs 端口名（最稳、可脚本化）</h2>
<p data-start="763" data-end="809">假设你在 <code data-start="768" data-end="775">lsusb</code> 里看到深度相机是：<code data-start="785" data-end="809">Bus 010 Device 005 ...</code></p>
<p data-start="811" data-end="858">对应的节点是 <code data-start="818" data-end="840">/dev/bus/usb/010/005</code>，直接查它的 sysfs path：</p>
<pre class="overflow-visible! px-0!" data-start="859" data-end="915"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>udevadm info -q path -n /dev/bus/usb/010/005
</span></span></code></div></div></pre>
<p data-start="917" data-end="928">输出里一般会包含类似：</p>
<ul data-start="929" data-end="960">
<li data-start="929" data-end="960">
<p data-start="931" data-end="960"><code data-start="931" data-end="960">.../usb10/10-3/10-3:1.0/...</code></p>
</li>
</ul>
<p data-start="962" data-end="1004">你取 <strong data-start="965" data-end="975"><code data-start="967" data-end="973">10-3</code></strong> 这一段，就是要填的 <code data-start="986" data-end="1003">FRONT_RGBD_PORT</code>。</p>
<hr data-start="1006" data-end="1009">
<h2 data-start="1011" data-end="1067">方法 C：按 Vendor/Product/Serial 在 sysfs 里“抓”出端口号（适合多个设备）</h2>
<p data-start="1068" data-end="1133">先用 <code data-start="1071" data-end="1078">lsusb</code> 记下深度相机的 <code data-start="1087" data-end="1107">idVendor:idProduct</code>（比如 <code data-start="1111" data-end="1122">8086:0b3a</code> 只是举例），然后跑：</p>
<pre class="overflow-visible! px-0!" data-start="1135" data-end="1448"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>VID=8086
PID=0b3a

</span><span><span class="hljs-keyword">for</span></span><span> d </span><span><span class="hljs-keyword">in</span></span><span> /sys/bus/usb/devices/*; </span><span><span class="hljs-keyword">do</span></span><span>
  [ -f </span><span><span class="hljs-string">"<span class="hljs-variable">$d</span></span></span><span>/idVendor" ] || </span><span><span class="hljs-built_in">continue</span></span><span>
  </span><span><span class="hljs-keyword">if</span></span><span> [ </span><span><span class="hljs-string">"<span class="hljs-subst">$(cat $d/idVendor)</span></span></span><span>" = </span><span><span class="hljs-string">"<span class="hljs-variable">$VID</span></span></span><span>" ] &amp;&amp; [ </span><span><span class="hljs-string">"<span class="hljs-subst">$(cat $d/idProduct)</span></span></span><span>" = </span><span><span class="hljs-string">"<span class="hljs-variable">$PID</span></span></span><span>" ]; </span><span><span class="hljs-keyword">then</span></span><span>
    </span><span><span class="hljs-built_in">echo</span></span><span> </span><span><span class="hljs-string">"PORT=<span class="hljs-subst">$(basename $d)</span></span></span><span>  </span><span><span class="hljs-variable">$d</span></span><span>"
    </span><span><span class="hljs-comment"># 如果有序列号也打印一下，方便区分多台</span></span><span>
    [ -f </span><span><span class="hljs-string">"<span class="hljs-variable">$d</span></span></span><span>/serial" ] &amp;&amp; </span><span><span class="hljs-built_in">echo</span></span><span> </span><span><span class="hljs-string">"  SERIAL=<span class="hljs-subst">$(cat $d/serial)</span></span></span><span>"
  </span><span><span class="hljs-keyword">fi</span></span><span>
</span><span><span class="hljs-keyword">done</span></span><span>
</span></span></code></div></div></pre>
<p data-start="1450" data-end="1486">输出里的 <code data-start="1455" data-end="1466">PORT=10-3</code> / <code data-start="1469" data-end="1476">2-1.3</code> 就是你要的端口号。</p>
<hr data-start="1488" data-end="1491">
<h2 data-start="1493" data-end="1511">如何避免“同厂商多个设备搞混”</h2>
<p data-start="1512" data-end="1519">最靠谱的两招：</p>
<ol data-start="1521" data-end="1652">
<li data-start="1521" data-end="1589">
<p data-start="1524" data-end="1589">看 serial（如果设备提供）<br data-start="1540" data-end="1543">
用上面方法 C 会打印 <code data-start="1555" data-end="1567">SERIAL=...</code>，你可以把“Front那颗”的序列号记下来。</p>
</li>
<li data-start="1591" data-end="1652">
<p data-start="1594" data-end="1652">拔插法（最笨但最稳）<br data-start="1604" data-end="1607">
只插 Front 深度相机 → 查一次端口；再插 Back → 查一次。立刻100%对上。</p>
</li>
</ol>
<hr data-start="1654" data-end="1657">
<h2 data-start="1659" data-end="1680">你可以直接这样做（我建议的最短路径）</h2>
<ol data-start="1681" data-end="1828">
<li data-start="1681" data-end="1720">
<p data-start="1684" data-end="1720"><code data-start="1684" data-end="1691">lsusb</code> 找到深度相机那一行（记 Bus/Device 和 ID）</p>
</li>
<li data-start="1721" data-end="1792">
<p data-start="1724" data-end="1792"><code data-start="1724" data-end="1770">udevadm info -q path -n /dev/bus/usb/BBB/DDD</code> 把 <code data-start="1773" data-end="1782">BBB-DDD</code> 对到 <code data-start="1786" data-end="1792">10-3</code></p>
</li>
<li data-start="1793" data-end="1828">
<p data-start="1796" data-end="1828">更新 <code data-start="1799" data-end="1828">export FRONT_RGBD_PORT=10-3</code></p>
</li>
</ol>
<hr data-start="1830" data-end="1833">
<p data-start="1835" data-end="1941" data-is-last-node="" data-is-only-node="">如果你把 <code data-start="1840" data-end="1847">lsusb</code> 里“深度相机那一行”贴出来（至少包含 Bus/Device 和 <code data-start="1880" data-end="1894">ID xxxx:yyyy</code>），我可以告诉你下一条该跑哪条命令，以及最终应该填成哪个 <code data-start="1923" data-end="1940">FRONT_RGBD_PORT</code>。</p></div></div>
<div class="message-block role-user"><div class="message-role">用户</div><div class="message-content">这是返回的结果，我有4个深度相机：
➜  ~ lsusb -t
/:  Bus 10.Port 1: Dev 1, Class=root_hub, Driver=tegra-xusb/4p, 10000M
    |__ Port 4: Dev 2, If 0, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 4: Dev 2, If 1, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 4: Dev 2, If 2, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 4: Dev 2, If 3, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 4: Dev 2, If 4, Class=Video, Driver=uvcvideo, 5000M
/:  Bus 09.Port 1: Dev 1, Class=root_hub, Driver=tegra-xusb/4p, 480M
    |__ Port 2: Dev 2, If 0, Class=Vendor Specific Class, Driver=option, 480M
    |__ Port 2: Dev 2, If 1, Class=Vendor Specific Class, Driver=option, 480M
    |__ Port 2: Dev 2, If 2, Class=Vendor Specific Class, Driver=option, 480M
    |__ Port 2: Dev 2, If 3, Class=Vendor Specific Class, Driver=option, 480M
    |__ Port 2: Dev 2, If 4, Class=Vendor Specific Class, Driver=option, 480M
    |__ Port 2: Dev 2, If 5, Class=Vendor Specific Class, Driver=simcom_wwan, 480M
/:  Bus 08.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 5000M
    |__ Port 2: Dev 2, If 0, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 1, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 2, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 3, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 4, Class=Video, Driver=uvcvideo, 5000M
/:  Bus 07.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 480M
    |__ Port 1: Dev 2, If 0, Class=Video, Driver=uvcvideo, 480M
    |__ Port 1: Dev 2, If 1, Class=Video, Driver=uvcvideo, 480M
    |__ Port 1: Dev 2, If 2, Class=Audio, Driver=snd-usb-audio, 480M
    |__ Port 1: Dev 2, If 3, Class=Audio, Driver=snd-usb-audio, 480M
/:  Bus 06.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 5000M
    |__ Port 2: Dev 2, If 0, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 1, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 2, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 3, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 4, Class=Video, Driver=uvcvideo, 5000M
/:  Bus 05.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 480M
    |__ Port 1: Dev 2, If 0, Class=Video, Driver=uvcvideo, 480M
    |__ Port 1: Dev 2, If 1, Class=Video, Driver=uvcvideo, 480M
    |__ Port 1: Dev 2, If 2, Class=Audio, Driver=snd-usb-audio, 480M
    |__ Port 1: Dev 2, If 3, Class=Audio, Driver=snd-usb-audio, 480M
/:  Bus 04.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 5000M
    |__ Port 2: Dev 2, If 0, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 1, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 2, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 3, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 4, Class=Video, Driver=uvcvideo, 5000M
/:  Bus 03.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 480M
    |__ Port 1: Dev 2, If 0, Class=Video, Driver=uvcvideo, 480M
    |__ Port 1: Dev 2, If 1, Class=Video, Driver=uvcvideo, 480M
    |__ Port 1: Dev 2, If 2, Class=Audio, Driver=snd-usb-audio, 480M
    |__ Port 1: Dev 2, If 3, Class=Audio, Driver=snd-usb-audio, 480M
/:  Bus 02.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 5000M
    |__ Port 2: Dev 2, If 0, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 1, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 2, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 3, Class=Video, Driver=uvcvideo, 5000M
    |__ Port 2: Dev 2, If 4, Class=Video, Driver=uvcvideo, 5000M
/:  Bus 01.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 480M
    |__ Port 1: Dev 2, If 0, Class=Video, Driver=uvcvideo, 480M
    |__ Port 1: Dev 2, If 1, Class=Video, Driver=uvcvideo, 480M
    |__ Port 1: Dev 2, If 2, Class=Audio, Driver=snd-usb-audio, 480M
    |__ Port 1: Dev 2, If 3, Class=Audio, Driver=snd-usb-audio, 480M</div></div>
<div class="message-block role-ai"><div class="message-role">AI</div><div class="message-content"><p data-start="0" data-end="67">你这份 <code data-start="4" data-end="14">lsusb -t</code> 已经够把 <strong data-start="20" data-end="61">RGBD 端口号（<code data-start="31" data-end="48">FRONT_RGBD_PORT</code> 那种 <code data-start="52" data-end="58">10-3</code>）</strong> 算出来了：</p>
<h3 data-start="69" data-end="122">1) <code data-start="76" data-end="86">lsusb -t</code> 里的 Bus/Port → <code data-start="101" data-end="118">FRONT_RGBD_PORT</code> 的规则</h3>
<ul data-start="123" data-end="234">
<li data-start="123" data-end="160">
<p data-start="125" data-end="160"><code data-start="125" data-end="140">Bus 10.Port 4</code>  ⇒ <strong data-start="144" data-end="160">端口号就是 <code data-start="152" data-end="158">10-4</code></strong></p>
</li>
<li data-start="161" data-end="191">
<p data-start="163" data-end="191"><code data-start="163" data-end="178">Bus 08.Port 2</code>  ⇒ <strong data-start="182" data-end="191"><code data-start="184" data-end="189">8-2</code></strong></p>
</li>
<li data-start="192" data-end="234">
<p data-start="194" data-end="234">如果有级联（hub），会是 <code data-start="208" data-end="215">2-1.3</code> 这种（端口链一路用 <code data-start="226" data-end="229">.</code> 连起来）</p>
</li>
</ul>
<p data-start="236" data-end="284">所以按你贴的结果，<strong data-start="245" data-end="282">所有“5000M 的 Video（USB3）”候选 RGBD 端口</strong>是：</p>
<ul data-start="286" data-end="416">
<li data-start="286" data-end="312">
<p data-start="288" data-end="312">Bus10.Port4 ⇒ <strong data-start="302" data-end="312"><code data-start="304" data-end="310">10-4</code></strong></p>
</li>
<li data-start="313" data-end="338">
<p data-start="315" data-end="338">Bus08.Port2 ⇒ <strong data-start="329" data-end="338"><code data-start="331" data-end="336">8-2</code></strong></p>
</li>
<li data-start="339" data-end="364">
<p data-start="341" data-end="364">Bus06.Port2 ⇒ <strong data-start="355" data-end="364"><code data-start="357" data-end="362">6-2</code></strong></p>
</li>
<li data-start="365" data-end="390">
<p data-start="367" data-end="390">Bus04.Port2 ⇒ <strong data-start="381" data-end="390"><code data-start="383" data-end="388">4-2</code></strong></p>
</li>
<li data-start="391" data-end="416">
<p data-start="393" data-end="416">Bus02.Port2 ⇒ <strong data-start="407" data-end="416"><code data-start="409" data-end="414">2-2</code></strong></p>
</li>
</ul>
<blockquote data-start="418" data-end="516">
<p data-start="420" data-end="516">你说“4个深度相机”，但这里看到 <strong data-start="437" data-end="458">5 个 USB3 Video 设备</strong>（10/8/6/4/2）。要么其中一个不是你的深度相机（可能是别的 UVC 设备），要么你实际连了 5 个深度模组。</p>
</blockquote>
<p data-start="518" data-end="657">另外：Bus07/05/03/01 那些 <strong data-start="539" data-end="555">480M 带 Audio</strong> 的，通常是同一设备的 USB2 复合接口/音频接口（很多深度相机会有），一般 <strong data-start="595" data-end="614">不要拿它当 RGBD_PORT</strong>（RGBD 数据走 USB3 那边更符合你原来 <code data-start="638" data-end="651">*_RGBD_PORT</code> 的用法）。</p>
<hr data-start="659" data-end="662">
<h2 data-start="664" data-end="724">2) 用 sysfs/serial 把“哪个端口对应哪一颗（Front/Back/Left/Right）”确认出来</h2>
<p data-start="725" data-end="769">你需要把每个端口的 <strong data-start="735" data-end="753">product/serial</strong> 打出来，这样不用拔插也能区分。</p>
<p data-start="771" data-end="795">先把这些候选端口跑一遍（会输出产品名和序列号）：</p>
<pre class="overflow-visible! px-0!" data-start="797" data-end="1149"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span><span class="hljs-keyword">for</span></span><span> p </span><span><span class="hljs-keyword">in</span></span><span> 10-4 8-2 6-2 4-2 2-2; </span><span><span class="hljs-keyword">do</span></span><span>
  </span><span><span class="hljs-keyword">if</span></span><span> [ -d </span><span><span class="hljs-string">"/sys/bus/usb/devices/<span class="hljs-variable">$p</span></span></span><span>" ]; </span><span><span class="hljs-keyword">then</span></span><span>
    </span><span><span class="hljs-built_in">echo</span></span><span> </span><span><span class="hljs-string">"=== PORT <span class="hljs-variable">$p</span></span></span><span> ==="
    [ -f </span><span><span class="hljs-string">"/sys/bus/usb/devices/<span class="hljs-variable">$p</span></span></span><span>/product" ] &amp;&amp; </span><span><span class="hljs-built_in">echo</span></span><span> -n </span><span><span class="hljs-string">"product: "</span></span><span> &amp;&amp; </span><span><span class="hljs-built_in">cat</span></span><span> </span><span><span class="hljs-string">"/sys/bus/usb/devices/<span class="hljs-variable">$p</span></span></span><span>/product"
    [ -f </span><span><span class="hljs-string">"/sys/bus/usb/devices/<span class="hljs-variable">$p</span></span></span><span>/serial" ]  &amp;&amp; </span><span><span class="hljs-built_in">echo</span></span><span> -n </span><span><span class="hljs-string">"serial : "</span></span><span> &amp;&amp; </span><span><span class="hljs-built_in">cat</span></span><span> </span><span><span class="hljs-string">"/sys/bus/usb/devices/<span class="hljs-variable">$p</span></span></span><span>/serial"
    </span><span><span class="hljs-built_in">echo</span></span><span>
  </span><span><span class="hljs-keyword">fi</span></span><span>
</span><span><span class="hljs-keyword">done</span></span><span>
</span></span></code></div></div></pre>
<p data-start="1151" data-end="1229">如果某些口没有 <code data-start="1159" data-end="1167">serial</code>，再用 <code data-start="1171" data-end="1178">lsusb</code> 详细信息补一下（Bus/Dev 都是 2 的话对应 <code data-start="1205" data-end="1227">/dev/bus/usb/BBB/002</code>）：</p>
<pre class="overflow-visible! px-0!" data-start="1231" data-end="1460"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span><span class="hljs-keyword">for</span></span><span> b </span><span><span class="hljs-keyword">in</span></span><span> 10 8 6 4 2; </span><span><span class="hljs-keyword">do</span></span><span>
  </span><span><span class="hljs-built_in">echo</span></span><span> </span><span><span class="hljs-string">"=== BUS <span class="hljs-variable">$b</span></span></span><span> DEV 2 ==="
  lsusb -s $(</span><span><span class="hljs-built_in">printf</span></span><span> </span><span><span class="hljs-string">"%03d:%03d"</span></span><span> </span><span><span class="hljs-variable">$b</span></span><span> 2)
  lsusb -s $(</span><span><span class="hljs-built_in">printf</span></span><span> </span><span><span class="hljs-string">"%03d:%03d"</span></span><span> </span><span><span class="hljs-variable">$b</span></span><span> 2) -v 2&gt;/dev/null | sed -n </span><span><span class="hljs-string">'s/ *iProduct *[0-9]* //p; s/ *iSerial *[0-9]* //p'</span></span><span>
  </span><span><span class="hljs-built_in">echo</span></span><span>
</span><span><span class="hljs-keyword">done</span></span><span>
</span></span></code></div></div></pre>
<p data-start="1462" data-end="1494">拿到每颗深度相机的 serial/product 后，你就能把：</p>
<ul data-start="1495" data-end="1572">
<li data-start="1495" data-end="1551">
<p data-start="1497" data-end="1551">Front 那颗对应的端口（比如 <code data-start="1514" data-end="1519">8-2</code>）写回 <code data-start="1523" data-end="1551">export FRONT_RGBD_PORT=8-2</code></p>
</li>
<li data-start="1552" data-end="1572">
<p data-start="1554" data-end="1572">Back/Left/Right 同理</p>
</li>
</ul>
<hr data-start="1574" data-end="1577">
<h2 data-start="1579" data-end="1615">3) 想进一步验证“这个端口确实对应哪些 /dev/video*”</h2>
<p data-start="1616" data-end="1651">用 sysfs 反查这个 USB 设备下面挂了哪些 video 节点：</p>
<pre class="overflow-visible! px-0!" data-start="1653" data-end="1766"><div class="contain-inline-size rounded-2xl corner-superellipse/1.1 relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl corner-t-superellipse/1.1">bash</div><div class="@w-xl/main:top-9 sticky top-[calc(--spacing(9)+var(--header-height))]"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" aria-hidden="true" class="icon-sm"><use href="/cdn/assets/sprites-core-btjmrd1b.svg#ce3544" fill="currentColor"></use></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>p=8-2   </span><span><span class="hljs-comment"># 换成你要看的端口</span></span><span>
find </span><span><span class="hljs-string">"/sys/bus/usb/devices/<span class="hljs-variable">$p</span></span></span><span>" -</span><span><span class="hljs-built_in">type</span></span><span> d -name video4linux -</span><span><span class="hljs-built_in">print</span></span><span> -</span><span><span class="hljs-built_in">exec</span></span><span> </span><span><span class="hljs-built_in">ls</span></span><span> -l {}/ \;
</span></span></code></div></div></pre>
<p data-start="1768" data-end="1809">这样你能看到它关联到哪些 <code data-start="1781" data-end="1789">videoX</code>，避免把别的 UVC 设备误当深度相机。</p>
<hr data-start="1811" data-end="1814">
<h3 data-start="1816" data-end="1846">你现在最关键的问题：为什么多出来一个 <code data-start="1839" data-end="1845">10-4</code>？</h3>
<p data-start="1847" data-end="1870">建议你把下面两条的输出贴一下（每条几行就行）：</p>
<ol data-start="1871" data-end="1985">
<li data-start="1871" data-end="1963">
<p data-start="1874" data-end="1963"><code data-start="1874" data-end="1963">cat /sys/bus/usb/devices/10-4/product; cat /sys/bus/usb/devices/10-4/serial 2&gt;/dev/null</code></p>
</li>
<li data-start="1964" data-end="1985">
<p data-start="1967" data-end="1985"><code data-start="1967" data-end="1985">lsusb -s 010:002</code></p>
</li>
</ol>
<p data-start="1987" data-end="2070" data-is-last-node="" data-is-only-node="">我就能判断 <code data-start="1993" data-end="1999">10-4</code> 是不是“第五个深度相机/或者是别的设备”，然后给你一份最终的 <code data-start="2031" data-end="2066">FRONT/BACK/LEFT/RIGHT *_RGBD_PORT</code> 对照。</p></div></div>
<div class="message-block role-user"><div class="message-role">用户</div><div class="message-content">确实是5个深度相机，你是如何从这么多端口找到这个深度相机端口的</div></div>
<div class="message-block role-ai"><div class="message-role">AI</div><div class="message-content"><p data-start="0" data-end="70">我用的是“<strong data-start="5" data-end="27">从 USB 树里先把候选缩到最小集合</strong>”的思路，然后再用 sysfs/serial 去精确确认。你这份输出里其实信息很关键：</p>
<h2 data-start="72" data-end="104">1) 先在 <code data-start="81" data-end="91">lsusb -t</code> 里筛“像深度相机的节点”</h2>
<p data-start="105" data-end="137">深度相机（RGBD）通常有两个特征（尤其是用 UVC 的那类）：</p>
<ul data-start="139" data-end="310">
<li data-start="139" data-end="206">
<p data-start="141" data-end="206"><strong data-start="141" data-end="162">跑在 USB3/5Gbps 或更高</strong>：<code data-start="163" data-end="170">5000M</code>（你这里还有 <code data-start="177" data-end="185">10000M</code> root hub，但设备是 5000M）</p>
</li>
<li data-start="207" data-end="250">
<p data-start="209" data-end="250"><strong data-start="209" data-end="240">Class=Video，Driver=uvcvideo</strong>（UVC 视频设备）</p>
</li>
<li data-start="251" data-end="310">
<p data-start="253" data-end="310">同一个设备会出现多个 <code data-start="264" data-end="268">If</code>（接口）：<code data-start="273" data-end="282">If 0..4</code> 这种，表示它有多路视频流（彩色/红外/深度/元数据等）</p>
</li>
</ul>
<p data-start="312" data-end="332">所以我从你输出里只挑出满足这些特征的块：</p>
<ul data-start="334" data-end="649">
<li data-start="334" data-end="405">
<p data-start="336" data-end="405"><code data-start="336" data-end="355">Bus 10 ... 10000M</code> 下挂了一个 <code data-start="362" data-end="397">Port 4: Dev 2 ... Video ... 5000M</code>（If 0~4）</p>
</li>
<li data-start="406" data-end="472">
<p data-start="408" data-end="472"><code data-start="408" data-end="426">Bus 08 ... 5000M</code> 下 <code data-start="429" data-end="464">Port 2: Dev 2 ... Video ... 5000M</code>（If 0~4）</p>
</li>
<li data-start="473" data-end="531">
<p data-start="475" data-end="531"><code data-start="475" data-end="493">Bus 06 ... 5000M</code> 下 <code data-start="496" data-end="531">Port 2: Dev 2 ... Video ... 5000M</code></p>
</li>
<li data-start="532" data-end="590">
<p data-start="534" data-end="590"><code data-start="534" data-end="552">Bus 04 ... 5000M</code> 下 <code data-start="555" data-end="590">Port 2: Dev 2 ... Video ... 5000M</code></p>
</li>
<li data-start="591" data-end="649">
<p data-start="593" data-end="649"><code data-start="593" data-end="611">Bus 02 ... 5000M</code> 下 <code data-start="614" data-end="649">Port 2: Dev 2 ... Video ... 5000M</code></p>
</li>
</ul>
<p data-start="651" data-end="681">这 5 个块“长得一模一样”，非常像 5 个同型号深度相机。</p>
<p data-start="683" data-end="689">相反，那些：</p>
<ul data-start="690" data-end="814">
<li data-start="690" data-end="814">
<p data-start="692" data-end="814"><code data-start="692" data-end="709">Bus 01/03/05/07</code> 的 <code data-start="712" data-end="718">480M</code> 而且还带 <code data-start="724" data-end="747">Audio (snd-usb-audio)</code><br data-start="747" data-end="750">
更像是同类设备的 USB2 复合接口（音频/控制）或者别的低速设备，不是你要拿来当 <code data-start="792" data-end="803">RGBD_PORT</code> 的那条“主数据口”。</p>
</li>
</ul>
<h2 data-start="816" data-end="849">2) 再把 <code data-start="825" data-end="837">Bus + Port</code> 直接映射成你要的端口号</h2>
<p data-start="850" data-end="911"><code data-start="850" data-end="872">FRONT_RGBD_PORT=10-3</code> 这种写法，本质就是 Linux USB sysfs 里的“设备名”，规则是：</p>
<ul data-start="913" data-end="999">
<li data-start="913" data-end="939">
<p data-start="915" data-end="939"><code data-start="915" data-end="930">Bus 10.Port 4</code> → <code data-start="933" data-end="939">10-4</code></p>
</li>
<li data-start="940" data-end="965">
<p data-start="942" data-end="965"><code data-start="942" data-end="956">Bus 8.Port 2</code>  → <code data-start="960" data-end="965">8-2</code></p>
</li>
<li data-start="966" data-end="999">
<p data-start="968" data-end="999">如果有 hub 级联，就会变成 <code data-start="984" data-end="991">2-1.3</code> 这种“端口链”</p>
</li>
</ul>
<p data-start="1001" data-end="1057">所以我才会从那 5 个块得到 5 个候选端口：<br>
<strong data-start="1025" data-end="1057">10-4 / 8-2 / 6-2 / 4-2 / 2-2</strong></p>
<p data-start="1059" data-end="1090">（你现在确认确实有 5 个深度相机，所以这 5 个就是对的。）</p>
<h2 data-start="1092" data-end="1122">3) 为什么我确信这些就是“深度相机端口”而不是别的？</h2>
<p data-start="1123" data-end="1132">因为它们同时满足：</p>
<ul data-start="1133" data-end="1221">
<li data-start="1133" data-end="1159">
<p data-start="1135" data-end="1159">高速（5000M）→ 需要大带宽（深度/多路流）</p>
</li>
<li data-start="1160" data-end="1190">
<p data-start="1162" data-end="1190">UVC Video（uvcvideo）→ 典型相机类设备</p>
</li>
<li data-start="1191" data-end="1221">
<p data-start="1193" data-end="1221">多接口（If 0~4）→ 典型 RGBD 复合设备的表现</p>
</li>
</ul>
<p data-start="1223" data-end="1306">而你脚本里的 <code data-start="1230" data-end="1243">*_RGBD_PORT</code> 这类端口号，就是为了固定“这颗 RGBD 设备插在哪个 USB 口”，最匹配的就是这些 USB3 的 Video 设备节点。</p>
<hr data-start="1308" data-end="1311">
<p data-start="1313" data-end="1487" data-is-last-node="" data-is-only-node="">如果你想把这个过程做成“自动识别所有深度相机端口”的一条命令（不靠肉眼），也可以：我可以给你一个脚本，自动从 <code data-start="1368" data-end="1392">/sys/bus/usb/devices/*</code> 里筛出 <code data-start="1397" data-end="1438">bDeviceClass / driver / speed / product</code>，再输出端口号 + serial，让你直接做 FRONT/BACK/LEFT/RIGHT 的映射。</p></div></div>